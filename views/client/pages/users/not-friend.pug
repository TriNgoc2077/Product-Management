extends ../../layouts/default.pug
include ../../mixins/box-head.pug

block main 
    .container.py-4
        .row.mb-4
            .col-12
                +box-head("List user")
        //- res.locals.user
        .row.g-4(data-users-not-friend=user.id)
            each user in users
                //- user in loop
                .col-12.col-md-4(user-id=user.id)
                    div(class="box-user card h-100 shadow-sm")
                        .card-body.p-3
                            .d-flex.align-items-center.position-relative
                                .inner-avatar.position-relative.me-3
                                    img.rounded-circle.border.border-2.border-light(
                                        src=user.avatar
                                        alt="avatar"
                                        style="width: 80px; height: 80px; object-fit: cover;"
                                    )
                                
                                .inner-info.flex-grow-1
                                    .inner-name.fw-semibold.mb-2.fs-5 #{user.fullName}
                                    .inner-buttons.d-flex.gap-2
                                        button(
                                            class="btn btn-sm btn-primary"
                                            button-add-friend=user.id
                                        ) Add friend
                                        button(
                                            class="btn btn-sm btn-secondary d-none"
                                            button-cancel-friend=user.id
                                        ) Cancel
    
    block users
        script(type="module", src="/js/users.js") 

    style.
        .box-user [button-cancel-friend] {
            display: none !important;
        }
        .box-user.add [button-add-friend] {
            display: none !important;
        }
        .box-user.add [button-cancel-friend] {
            display: inline-block !important;
        }