extends ../../layouts/default.pug
include ../../mixins/filterStatus.pug
include ../../mixins/search.pug
block main
    h1 Product list page

    .card.mb-3 
        .card-header Filter and Find 
            .card-body 
                .row
                    .col-6
                        +filter-status(filterStatus)
                    .col-6 
                        +search(keyword)
    .card.mb-3 
        .card-header List
            .card-body 
                table.table.table-hover.table-sm
                    thead  
                        tr 
                            td Order 
                            td Picture 
                            td Title 
                            td Price 
                            td Status 
                            td To-do
                    tbody 
                        each item, index in products   
                            tr 
                                td #{index}
                                td 
                                    img(
                                        src=item.thumbnail, 
                                        alt=item.title
                                        width="100px"
                                        height="auto"
                                    )
                                    td #{item.title}
                                    td #{item.price}$
                                    td 
                                        if (item.status == "active")
                                            a(href="#" class="btn btn-success") #{item.status} 
                                        else 
                                            a(href="#" class="btn btn-danger") #{item.status}
                                    td 
                                        button(class="btn btn-warning btn-sm") Edit 
                                        button(class="btn btn-danger btn-sm ml-1") Delete


    nav 
        ul(class="pagination") 
            li(class="page-item")
                button(
                    class="page-link"
                    button-pagination=1
                ) First page

            if (pagination.currentPage > 1)
                li(class="page-item")
                    button(
                        class="page-link"
                        button-pagination=pagination.currentPage - 1
                    ) Previous page
            - for (var i = (pagination.currentPage - 1 > 0 ? pagination.currentPage - 1 : 1); i <= pagination.currentPage + 1; i++) 
                li(class=`page-item ${pagination.currentPage == i ? "active" : ""}`)
                    button(
                        class="page-link" 
                        button-pagination=i
                    ) #{i} 
            if (pagination.currentPage < pagination.totalPage)
                li(class="page-item")
                    button(
                        class="page-link"
                        button-pagination=pagination.currentPage + 1
                    ) Next page  
            li(class="page-item")
                button(
                    class="page-link"
                    button-pagination=pagination.totalPage
                ) Last page

