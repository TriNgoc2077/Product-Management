extends ../../layouts/default.pug
include ../../mixins/alert.pug
block main 
    .container-fluid
        if (role.permissions.includes("accounts_view"))
            .row.mb-4
                .col-12.d-flex.justify-content-between.align-items-center
                    .d-flex.align-items-center
                        h1.mb-0
                            i.fas.fa-user-circle.me-3.text-primary
                            | Account Profile
            
            .row
                .col-xl-4.col-lg-5
                    // Profile Card
                    .card.shadow-sm.mb-4
                        .card-body.text-center.pt-4
                            .position-relative.d-inline-block.mb-4
                                if (data.avatar)
                                    img.rounded-circle.border.shadow-sm(
                                        src=data.avatar,
                                        width="150",
                                        height="150",
                                        style="object-fit: cover;"
                                    )
                                else
                                    .avatar-placeholder.rounded-circle.d-flex.align-items-center.justify-content-center
                                        i.fas.fa-user.fa-4x.text-secondary
                                
                                .status-badge(class=data.status === "active" ? "bg-success" : "bg-danger")
                                    i.fas.fa-circle.fa-xs
                            
                            h4.card-title.mb-1 #{data.fullName || "No Name"}
                            p.text-muted.mb-3
                                i.fas.fa-user-shield.me-2
                                | #{role.title || "No Role"}
                            if (role.permissions.includes("accounts_edit"))
                                a.btn.btn-primary(href=`${prefixAdmin}/accounts/edit/${data._id}`)
                                    i.fas.fa-user-edit.me-2
                                    | Edit Profile

                .col-xl-8.col-lg-7
                    // Info Card
                    .card.shadow-sm
                        .card-header.bg-light
                            h5.mb-0 
                                i.fas.fa-info-circle.me-2
                                | Account Information
                        .card-body
                            .row.g-4
                                .col-md-6
                                    .info-group
                                        label.text-muted.mb-1 Full Name
                                        .d-flex.align-items-center
                                            i.fas.fa-user.me-2.text-primary
                                            h6.mb-0 #{data.fullName || "Not set"}
                                
                                .col-md-6
                                    .info-group
                                        label.text-muted.mb-1 Email
                                        .d-flex.align-items-center
                                            i.fas.fa-envelope.me-2.text-primary
                                            h6.mb-0 #{data.email || "Not set"}
                                
                                .col-md-6
                                    .info-group
                                        label.text-muted.mb-1 Phone
                                        .d-flex.align-items-center
                                            i.fas.fa-phone.me-2.text-primary
                                            h6.mb-0 #{data.phone || "Not set"}
                                
                                .col-md-6
                                    .info-group
                                        label.text-muted.mb-1 Status
                                        .d-flex.align-items-center
                                            i.fas.fa-circle.me-2(class=data.status === "active" ? "text-success" : "text-danger")
                                            h6.mb-0 #{data.status === "active" ? "Active" : "Inactive"}